/*min: td12 x12 + td13 x13 +td14 x14 +td23 x23 + td24 x24 +td34 x34 +
	td21 x21 + td31 x31 +td41 x41 +td32 x32 + td42 x42 +td43 x43;*/
        
        
min: td12 x12 + td13 x13 +td14 x14 +td23 x23 + td24 x24 +td34 x34 +
	td21 x21 + td31 x31 +td41 x41 +td32 x32 + td42 x42 +td43 x43;

/*path*/
x12 + x13 + x14 = 1;
x23 + x24 + x21 = 1;
x31 + x32 + x34 = 1;
x41 + x42 + x43 = 1;

x21 + x31 + x41 = 1;
x32 + x42 + x12 = 1;
x13 + x23 + x43 = 1;
x14 + x24 + x34 = 1;

/*no cycle*/

x12+x21<=1;
x13+x31<=1;
x14+x41<=1;
x23+x32<=1;
x24+x42<=1;
x34+x43<=1;

x12+x23+x31 <= 2;
x12+x24+x41 <= 2;

x13+x32+x21 <= 2;
x13+x34+x41 <= 2;

x14+x42+x21 <= 2;
x14+x43+x31 <= 2;

x12+x23+x34+x41 <= 4;
x12+x24+x43+x31 <= 4;

x13+x32+x24+x41 <= 4;
x13+x34+x42+x21 <= 4;

x14+x42+x23+x31 <= 4;
x14+x43+x32+x21 <= 4;

/*times*/
td12=5;
td13=1;
td14=2;

td21=5;
td23=1;
td24=2;

td31=1;
td32=8;
td34=1;

td41=2;
td42=2;
td43=1;

/*time service*/
ts1=0;
ts2=2;
ts3=3;
ts4=2;

/*time window*/
a1=2;b1=9;
a2=1;b2=5;
a3=5;b3=8;
a4=0;b4=10;

/*****time feasible****/
M=100;
f12= 1- x12;
f13= 1- x13;
f14= 1- x14;

f21= 1- x21;
f23= 1- x23;
f24= 1- x24;

f31= 1- x31;
f32= 1- x32;
f34= 1- x34;

f41= 1- x41;
f42= 1- x42;
f43= 1- x43;

/**********************************
* Si + tdij + tsi -bj <= M(1- xij)*
***********************************/

a1 + t12 + ts1  - b2<= 100 - 100 x12; 
a1 + t13 + ts1  - b3<= 100 - 100 x13;
a1 + t14 + ts1  - b4<= 100 - 100 x14;

a2 + t21 + ts2  - b1<= 100 - 100 x21;
a2 + t23 + ts2  - b3<= 100 - 100 x23;
a2 + t24 + ts2  - b4<= 100 - 100 x24;

a3 + t31 + ts3  - b1<= 100 - 100 x31;
a3 + t32 + ts3  - b2<= 100 - 100 x32;
a3 + t34 + ts3  - b4<= 100 - 100 x34;

a4 + t41 + ts4  - b1<= 100 - 100 x41;
a4 + t42 + ts4  - b2<= 100 - 100 x42;
a4 + t43 + ts4  - b3<= 100 - 100 x43;

binary x12, x13, x14, x23, x24,x34,
	x21, x31, x41, x32, x42,x43;
